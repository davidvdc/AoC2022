import io.vavr.collection.List;
import io.vavr.collection.Stream;

public class Day4CampCleanup {

    public static void main(String[] args) {
        String testInput = "2-4,6-8\n" +
                "2-3,4-5\n" +
                "5-7,7-9\n" +
                "2-8,3-7\n" +
                "6-6,4-6\n" +
                "2-6,4-8";
        Day4CampCleanup day4 = new Day4CampCleanup();
        day4.numberOfDoubleCleanups(testInput);

        String mainInput = "71-87,70-88\n" +
                "8-92,6-97\n" +
                "7-68,8-69\n" +
                "47-47,47-48\n" +
                "74-94,51-93\n" +
                "48-63,48-49\n" +
                "26-57,57-58\n" +
                "62-63,11-76\n" +
                "16-66,15-47\n" +
                "27-65,27-62\n" +
                "19-81,19-81\n" +
                "19-19,18-18\n" +
                "4-5,5-15\n" +
                "75-84,39-75\n" +
                "96-96,20-83\n" +
                "1-59,28-60\n" +
                "13-14,14-88\n" +
                "15-96,96-99\n" +
                "4-64,1-4\n" +
                "22-95,42-95\n" +
                "52-53,52-78\n" +
                "58-75,63-67\n" +
                "25-75,63-76\n" +
                "10-19,9-37\n" +
                "46-81,65-65\n" +
                "4-61,5-62\n" +
                "66-66,67-67\n" +
                "45-82,83-96\n" +
                "74-96,95-96\n" +
                "41-98,41-99\n" +
                "22-92,21-92\n" +
                "22-29,1-32\n" +
                "85-86,36-84\n" +
                "21-21,22-90\n" +
                "13-83,15-82\n" +
                "75-75,41-75\n" +
                "78-78,1-78\n" +
                "14-93,14-48\n" +
                "58-87,58-58\n" +
                "16-87,88-90\n" +
                "23-64,24-58\n" +
                "2-71,1-2\n" +
                "31-52,53-70\n" +
                "65-95,66-96\n" +
                "5-42,4-41\n" +
                "1-79,2-80\n" +
                "4-71,36-72\n" +
                "94-95,4-94\n" +
                "23-89,24-79\n" +
                "8-53,32-53\n" +
                "51-59,30-59\n" +
                "13-55,13-55\n" +
                "13-72,46-71\n" +
                "9-78,8-9\n" +
                "57-74,56-69\n" +
                "91-91,91-91\n" +
                "8-31,4-31\n" +
                "39-54,36-85\n" +
                "7-35,6-65\n" +
                "5-83,8-80\n" +
                "5-93,5-95\n" +
                "44-53,52-52\n" +
                "11-94,10-93\n" +
                "1-6,7-99\n" +
                "42-61,33-61\n" +
                "7-29,8-80\n" +
                "4-5,5-31\n" +
                "42-42,43-83\n" +
                "43-81,63-82\n" +
                "6-96,98-99\n" +
                "22-83,7-86\n" +
                "19-83,18-60\n" +
                "39-40,40-41\n" +
                "6-99,5-5\n" +
                "16-94,16-94\n" +
                "51-53,23-52\n" +
                "4-84,4-83\n" +
                "8-67,67-68\n" +
                "3-85,2-3\n" +
                "21-50,44-48\n" +
                "42-85,43-86\n" +
                "19-69,20-70\n" +
                "15-15,15-86\n" +
                "70-78,71-78\n" +
                "12-46,45-88\n" +
                "33-87,32-90\n" +
                "21-90,20-94\n" +
                "4-99,3-3\n" +
                "50-87,4-91\n" +
                "3-91,3-4\n" +
                "9-41,9-42\n" +
                "41-54,40-54\n" +
                "46-46,10-45\n" +
                "59-87,58-78\n" +
                "72-97,71-71\n" +
                "1-87,87-88\n" +
                "32-33,31-80\n" +
                "29-97,98-99\n" +
                "73-75,74-76\n" +
                "41-93,30-92\n" +
                "1-82,15-49\n" +
                "13-41,14-42\n" +
                "19-39,39-40\n" +
                "8-92,34-92\n" +
                "10-49,11-94\n" +
                "19-81,11-82\n" +
                "95-98,25-95\n" +
                "16-89,2-16\n" +
                "51-85,52-68\n" +
                "19-95,18-53\n" +
                "1-14,1-15\n" +
                "25-25,25-28\n" +
                "14-35,14-15\n" +
                "31-66,32-67\n" +
                "20-93,19-69\n" +
                "68-82,68-82\n" +
                "17-69,68-71\n" +
                "4-84,5-83\n" +
                "1-76,4-77\n" +
                "3-92,39-94\n" +
                "95-97,30-88\n" +
                "51-98,71-98\n" +
                "29-74,75-99\n" +
                "12-19,14-19\n" +
                "27-99,26-99\n" +
                "17-77,16-75\n" +
                "1-2,3-38\n" +
                "38-38,37-99\n" +
                "13-45,14-46\n" +
                "25-93,26-94\n" +
                "88-90,88-91\n" +
                "40-57,39-56\n" +
                "23-23,24-67\n" +
                "28-92,94-99\n" +
                "1-71,1-71\n" +
                "41-96,40-95\n" +
                "4-97,3-98\n" +
                "9-25,4-24\n" +
                "70-71,70-70\n" +
                "14-54,13-39\n" +
                "10-40,10-40\n" +
                "63-87,16-82\n" +
                "41-94,40-57\n" +
                "60-90,61-91\n" +
                "14-92,14-15\n" +
                "6-92,16-91\n" +
                "21-77,21-77\n" +
                "70-71,59-70\n" +
                "19-69,61-69\n" +
                "97-97,4-98\n" +
                "12-79,12-80\n" +
                "15-86,86-89\n" +
                "49-67,19-66\n" +
                "63-91,92-94\n" +
                "6-98,5-98\n" +
                "15-15,15-68\n" +
                "9-17,17-97\n" +
                "5-87,4-87\n" +
                "3-96,14-84\n" +
                "21-83,21-82\n" +
                "1-92,92-92\n" +
                "1-37,5-38\n" +
                "17-93,11-98\n" +
                "38-66,21-67\n" +
                "1-65,2-66\n" +
                "7-91,6-48\n" +
                "2-29,3-30\n" +
                "36-79,7-84\n" +
                "78-79,75-79\n" +
                "69-83,79-83\n" +
                "34-67,39-68\n" +
                "2-93,92-93\n" +
                "7-53,5-7\n" +
                "90-91,18-90\n" +
                "73-93,55-74\n" +
                "24-81,98-98\n" +
                "2-76,18-71\n" +
                "28-94,94-94\n" +
                "13-14,9-13\n" +
                "40-64,41-63\n" +
                "89-98,1-87\n" +
                "87-98,71-97\n" +
                "31-53,32-67\n" +
                "14-32,15-32\n" +
                "11-96,37-61\n" +
                "69-70,69-89\n" +
                "22-32,15-46\n" +
                "33-47,47-87\n" +
                "4-6,7-73\n" +
                "26-70,1-71\n" +
                "5-91,1-90\n" +
                "6-55,5-54\n" +
                "5-71,4-5\n" +
                "55-86,54-70\n" +
                "13-33,34-34\n" +
                "53-93,93-99\n" +
                "31-96,31-99\n" +
                "47-72,46-71\n" +
                "54-73,53-98\n" +
                "44-92,45-72\n" +
                "1-10,11-17\n" +
                "53-77,53-96\n" +
                "52-74,53-75\n" +
                "30-95,30-98\n" +
                "3-58,58-58\n" +
                "32-92,32-33\n" +
                "2-3,3-33\n" +
                "25-43,20-42\n" +
                "10-80,65-81\n" +
                "5-97,6-98\n" +
                "37-41,36-53\n" +
                "57-79,78-88\n" +
                "24-89,23-89\n" +
                "97-97,70-96\n" +
                "40-69,40-70\n" +
                "10-90,89-92\n" +
                "42-86,43-87\n" +
                "26-84,27-85\n" +
                "15-15,16-99\n" +
                "7-68,67-67\n" +
                "3-97,1-96\n" +
                "1-98,4-95\n" +
                "2-99,2-99\n" +
                "66-66,12-66\n" +
                "57-89,90-93\n" +
                "18-93,32-88\n" +
                "37-77,37-76\n" +
                "74-74,60-74\n" +
                "4-83,7-73\n" +
                "17-98,18-99\n" +
                "1-82,5-60\n" +
                "73-89,4-55\n" +
                "15-81,3-15\n" +
                "51-93,74-93\n" +
                "16-18,17-37\n" +
                "69-69,69-99\n" +
                "30-97,30-31\n" +
                "16-80,5-85\n" +
                "2-13,3-14\n" +
                "76-95,34-85\n" +
                "35-83,82-83\n" +
                "14-15,15-85\n" +
                "5-93,7-66\n" +
                "24-71,42-90\n" +
                "23-36,9-35\n" +
                "31-79,31-79\n" +
                "15-71,53-72\n" +
                "69-73,68-75\n" +
                "3-89,3-89\n" +
                "14-81,67-98\n" +
                "82-87,86-93\n" +
                "67-69,68-68\n" +
                "7-78,7-7\n" +
                "2-85,3-85\n" +
                "16-72,16-71\n" +
                "2-98,1-1\n" +
                "28-31,27-43\n" +
                "88-93,58-68\n" +
                "13-88,3-12\n" +
                "17-91,18-98\n" +
                "91-99,65-99\n" +
                "1-60,8-42\n" +
                "16-84,16-88\n" +
                "10-49,50-50\n" +
                "20-21,20-71\n" +
                "59-85,59-85\n" +
                "53-62,61-76\n" +
                "18-53,51-51\n" +
                "65-94,15-66\n" +
                "17-72,40-68\n" +
                "53-76,21-75\n" +
                "54-96,96-96\n" +
                "2-17,17-17\n" +
                "73-93,29-94\n" +
                "1-5,4-59\n" +
                "1-98,1-97\n" +
                "12-77,12-81\n" +
                "84-97,84-85\n" +
                "1-77,43-78\n" +
                "45-91,45-90\n" +
                "69-94,36-44\n" +
                "11-97,10-94\n" +
                "6-70,6-65\n" +
                "42-56,8-41\n" +
                "48-54,45-55\n" +
                "23-88,24-88\n" +
                "28-92,69-95\n" +
                "9-15,8-13\n" +
                "46-81,74-82\n" +
                "66-88,8-67\n" +
                "24-32,33-33\n" +
                "12-90,11-93\n" +
                "28-56,27-55\n" +
                "33-56,33-34\n" +
                "40-85,44-86\n" +
                "15-70,2-15\n" +
                "71-90,68-80\n" +
                "14-93,12-96\n" +
                "4-96,3-95\n" +
                "18-18,17-32\n" +
                "78-79,46-78\n" +
                "4-62,62-63\n" +
                "59-84,5-59\n" +
                "15-24,15-16\n" +
                "24-84,14-91\n" +
                "19-92,10-46\n" +
                "3-4,4-72\n" +
                "21-90,18-21\n" +
                "95-98,58-83\n" +
                "19-97,14-99\n" +
                "5-97,4-98\n" +
                "21-78,20-93\n" +
                "14-15,14-98\n" +
                "54-60,53-67\n" +
                "8-40,40-89\n" +
                "29-70,30-71\n" +
                "9-9,8-8\n" +
                "90-98,89-89\n" +
                "69-98,98-99\n" +
                "3-91,3-4\n" +
                "10-94,11-95\n" +
                "59-83,48-83\n" +
                "1-5,5-95\n" +
                "91-97,37-92\n" +
                "14-96,14-88\n" +
                "2-86,86-89\n" +
                "8-40,39-40\n" +
                "52-80,53-80\n" +
                "57-81,33-85\n" +
                "24-89,23-25\n" +
                "36-65,18-65\n" +
                "3-58,2-54\n" +
                "74-90,31-74\n" +
                "11-94,11-12\n" +
                "21-70,22-71\n" +
                "19-72,20-73\n" +
                "33-34,34-94\n" +
                "30-96,79-96\n" +
                "5-92,4-5\n" +
                "23-84,24-82\n" +
                "32-33,34-76\n" +
                "13-64,13-14\n" +
                "38-41,42-70\n" +
                "24-86,76-92\n" +
                "61-70,11-70\n" +
                "48-95,49-96\n" +
                "77-83,83-95\n" +
                "13-63,14-64\n" +
                "7-52,51-53\n" +
                "42-61,43-51\n" +
                "67-93,66-93\n" +
                "4-23,24-24\n" +
                "13-14,13-13\n" +
                "41-93,42-92\n" +
                "14-79,13-78\n" +
                "64-83,78-82\n" +
                "2-89,5-89\n" +
                "19-19,18-18\n" +
                "58-76,47-76\n" +
                "88-97,4-89\n" +
                "65-74,65-66\n" +
                "39-97,40-50\n" +
                "74-98,75-97\n" +
                "14-15,14-67\n" +
                "13-95,12-94\n" +
                "12-79,13-79\n" +
                "11-68,12-69\n" +
                "57-87,86-86\n" +
                "7-21,6-82\n" +
                "76-83,25-77\n" +
                "7-10,5-12\n" +
                "98-98,8-99\n" +
                "2-93,3-94\n" +
                "5-13,4-12\n" +
                "78-81,78-80\n" +
                "98-99,11-99\n" +
                "52-67,53-66\n" +
                "86-86,82-87\n" +
                "4-65,4-65\n" +
                "60-96,59-95\n" +
                "7-87,8-94\n" +
                "53-88,87-93\n" +
                "4-10,3-69\n" +
                "2-21,21-65\n" +
                "10-35,2-9\n" +
                "3-56,4-6\n" +
                "65-99,64-99\n" +
                "22-95,43-96\n" +
                "37-75,36-86\n" +
                "60-92,16-45\n" +
                "33-81,99-99\n" +
                "2-49,48-48\n" +
                "44-99,44-99\n" +
                "8-79,78-80\n" +
                "81-90,1-82\n" +
                "98-99,28-99\n" +
                "44-98,43-88\n" +
                "48-78,30-98\n" +
                "45-91,46-99\n" +
                "3-91,3-91\n" +
                "90-90,23-91\n" +
                "24-75,30-75\n" +
                "10-75,11-59\n" +
                "10-43,11-44\n" +
                "21-31,20-21\n" +
                "2-2,3-97\n" +
                "51-51,51-51\n" +
                "22-67,67-67\n" +
                "94-97,95-99\n" +
                "98-98,63-97\n" +
                "92-93,92-93\n" +
                "7-88,7-89\n" +
                "67-93,67-68\n" +
                "48-92,47-91\n" +
                "13-83,83-85\n" +
                "6-7,6-79\n" +
                "34-92,35-92\n" +
                "39-42,35-41\n" +
                "44-95,57-96\n" +
                "8-61,7-7\n" +
                "39-39,34-39\n" +
                "28-57,28-57\n" +
                "33-39,32-32\n" +
                "15-15,15-72\n" +
                "29-92,28-91\n" +
                "76-87,85-96\n" +
                "15-37,8-14\n" +
                "39-54,39-40\n" +
                "7-48,6-48\n" +
                "55-75,51-74\n" +
                "16-78,16-79\n" +
                "34-34,35-84\n" +
                "7-61,8-62\n" +
                "80-92,31-50\n" +
                "37-41,40-56\n" +
                "3-82,82-99\n" +
                "14-74,15-30\n" +
                "91-91,18-91\n" +
                "10-97,98-99\n" +
                "76-96,76-77\n" +
                "17-97,98-98\n" +
                "24-89,23-24\n" +
                "14-90,15-91\n" +
                "89-98,90-99\n" +
                "55-64,54-70\n" +
                "17-99,18-98\n" +
                "4-4,3-84\n" +
                "42-99,43-61\n" +
                "99-99,4-89\n" +
                "21-86,22-86\n" +
                "79-96,37-79\n" +
                "99-99,36-96\n" +
                "67-79,69-80\n" +
                "27-55,27-28\n" +
                "27-77,54-64\n" +
                "99-99,18-95\n" +
                "17-96,18-96\n" +
                "15-45,14-45\n" +
                "28-30,27-47\n" +
                "61-83,82-84\n" +
                "39-47,41-44\n" +
                "57-95,94-94\n" +
                "22-42,21-46\n" +
                "6-75,75-75\n" +
                "6-97,1-97\n" +
                "26-49,27-50\n" +
                "54-96,54-96\n" +
                "63-87,46-86\n" +
                "21-70,69-71\n" +
                "61-90,89-91\n" +
                "81-87,60-81\n" +
                "5-94,6-6\n" +
                "6-85,10-84\n" +
                "37-40,36-39\n" +
                "74-76,75-77\n" +
                "9-96,99-99\n" +
                "20-20,21-49\n" +
                "1-2,2-89\n" +
                "17-59,58-99\n" +
                "20-91,20-91\n" +
                "79-91,79-87\n" +
                "51-92,91-93\n" +
                "90-96,9-91\n" +
                "72-82,43-98\n" +
                "55-99,54-55\n" +
                "3-20,6-81\n" +
                "26-98,26-97\n" +
                "7-97,7-8\n" +
                "26-71,19-70\n" +
                "24-60,97-98\n" +
                "90-91,33-91\n" +
                "12-69,11-68\n" +
                "16-34,4-15\n" +
                "8-24,18-25\n" +
                "92-97,3-87\n" +
                "44-96,96-96\n" +
                "10-51,9-58\n" +
                "3-62,4-63\n" +
                "10-68,2-69\n" +
                "21-85,85-86\n" +
                "26-26,14-25\n" +
                "46-87,1-99\n" +
                "47-85,48-66\n" +
                "15-89,89-98\n" +
                "86-86,85-85\n" +
                "45-62,52-63\n" +
                "10-93,87-90\n" +
                "19-83,21-30\n" +
                "22-87,88-94\n" +
                "27-96,28-96\n" +
                "77-80,19-77\n" +
                "4-22,21-21\n" +
                "19-97,20-84\n" +
                "43-94,22-95\n" +
                "69-69,10-69\n" +
                "1-94,1-94\n" +
                "72-90,79-91\n" +
                "16-16,17-67\n" +
                "11-12,11-51\n" +
                "94-96,12-65\n" +
                "33-91,32-97\n" +
                "38-38,30-38\n" +
                "47-49,48-51\n" +
                "92-96,18-92\n" +
                "6-89,6-7\n" +
                "32-32,33-37\n" +
                "11-98,98-99\n" +
                "13-38,38-39\n" +
                "66-67,61-66\n" +
                "81-83,4-82\n" +
                "15-95,5-95\n" +
                "82-99,13-97\n" +
                "98-98,70-98\n" +
                "16-19,12-20\n" +
                "3-96,2-96\n" +
                "25-70,26-71\n" +
                "66-73,1-72\n" +
                "4-79,69-78\n" +
                "14-88,13-87\n" +
                "89-91,26-90\n" +
                "12-80,3-11\n" +
                "42-91,90-92\n" +
                "19-20,20-82\n" +
                "89-91,33-90\n" +
                "45-85,2-92\n" +
                "43-90,91-96\n" +
                "43-77,43-90\n" +
                "12-94,19-95\n" +
                "89-90,38-89\n" +
                "95-98,96-98\n" +
                "11-18,17-69\n" +
                "3-52,1-4\n" +
                "7-53,52-81\n" +
                "61-72,66-73\n" +
                "4-69,37-69\n" +
                "29-94,30-75\n" +
                "32-94,56-95\n" +
                "1-98,3-94\n" +
                "94-94,74-94\n" +
                "13-70,14-85\n" +
                "4-52,25-53\n" +
                "65-91,83-87\n" +
                "7-10,11-11\n" +
                "31-32,39-77\n" +
                "35-58,36-48\n" +
                "28-66,27-76\n" +
                "56-56,57-67\n" +
                "13-64,13-64\n" +
                "34-75,33-44\n" +
                "2-88,1-99\n" +
                "14-51,51-69\n" +
                "14-75,10-89\n" +
                "31-92,40-44\n" +
                "32-41,42-89\n" +
                "87-98,16-95\n" +
                "49-50,50-91\n" +
                "66-74,38-95\n" +
                "74-75,74-88\n" +
                "18-80,19-85\n" +
                "1-98,1-98\n" +
                "83-87,8-84\n" +
                "58-91,52-92\n" +
                "1-70,1-99\n" +
                "18-40,12-18\n" +
                "9-25,9-24\n" +
                "31-73,17-83\n" +
                "43-46,42-45\n" +
                "3-5,4-83\n" +
                "14-70,29-55\n" +
                "1-76,62-77\n" +
                "4-18,5-18\n" +
                "72-97,71-71\n" +
                "69-69,5-69\n" +
                "92-94,73-93\n" +
                "63-94,64-93\n" +
                "32-69,13-69\n" +
                "25-81,26-82\n" +
                "18-66,5-92\n" +
                "32-34,8-33\n" +
                "5-46,4-88\n" +
                "41-83,12-41\n" +
                "35-63,51-63\n" +
                "15-87,15-90\n" +
                "18-82,17-18\n" +
                "19-41,18-20\n" +
                "10-93,10-10\n" +
                "30-71,50-70\n" +
                "10-64,9-72\n" +
                "76-77,5-77\n" +
                "59-59,59-59\n" +
                "3-54,2-72\n" +
                "7-8,7-25\n" +
                "74-79,74-92\n" +
                "9-9,10-55\n" +
                "6-94,58-94\n" +
                "27-86,60-86\n" +
                "17-99,14-98\n" +
                "23-26,21-25\n" +
                "5-85,4-6\n" +
                "60-86,20-85\n" +
                "52-91,92-94\n" +
                "74-74,45-75\n" +
                "2-4,3-95\n" +
                "67-93,47-93\n" +
                "95-98,95-98\n" +
                "93-93,50-93\n" +
                "82-83,18-82\n" +
                "6-97,5-7\n" +
                "7-98,8-99\n" +
                "24-63,12-64\n" +
                "16-57,15-56\n" +
                "1-92,1-96\n" +
                "51-81,84-91\n" +
                "2-88,1-1\n" +
                "34-34,35-70\n" +
                "91-98,9-67\n" +
                "51-94,2-79\n" +
                "5-99,6-98\n" +
                "32-92,32-92\n" +
                "4-69,3-3\n" +
                "65-83,64-84\n" +
                "63-65,11-64\n" +
                "58-58,50-60\n" +
                "21-88,74-86\n" +
                "40-76,40-55\n" +
                "47-49,16-48\n" +
                "76-76,35-76\n" +
                "52-72,71-71\n" +
                "7-59,6-58\n" +
                "2-84,1-3\n" +
                "32-99,22-96\n" +
                "8-23,8-22\n" +
                "11-11,11-47\n" +
                "29-29,30-85\n" +
                "89-92,87-91\n" +
                "12-36,12-37\n" +
                "2-91,50-97\n" +
                "12-34,29-35\n" +
                "75-88,20-75\n" +
                "7-88,7-7\n" +
                "25-35,6-36\n" +
                "35-41,34-87\n" +
                "68-72,28-78\n" +
                "12-99,1-98\n" +
                "16-76,2-75\n" +
                "6-75,7-76\n" +
                "6-97,5-99\n" +
                "4-98,4-97\n" +
                "1-2,1-99\n" +
                "3-91,91-92\n" +
                "41-87,6-88\n" +
                "40-61,9-79\n" +
                "7-93,7-92\n" +
                "71-72,72-85\n" +
                "24-94,23-23\n" +
                "42-90,89-90\n" +
                "3-76,33-77\n" +
                "55-58,56-59\n" +
                "40-87,88-98\n" +
                "16-16,17-99\n" +
                "40-98,92-99\n" +
                "33-39,23-38\n" +
                "21-60,15-59\n" +
                "40-44,40-44\n" +
                "81-84,85-85\n" +
                "33-96,40-67\n" +
                "15-93,91-94\n" +
                "82-83,81-95\n" +
                "20-90,90-91\n" +
                "37-58,38-58\n" +
                "47-47,46-59\n" +
                "3-71,2-2\n" +
                "37-73,72-73\n" +
                "12-86,86-87\n" +
                "15-26,4-27\n" +
                "21-22,21-31\n" +
                "78-92,30-93\n" +
                "2-85,2-85\n" +
                "92-92,6-93\n" +
                "15-79,80-80\n" +
                "56-56,55-60\n" +
                "14-61,61-79\n" +
                "4-51,51-52\n" +
                "8-8,7-7\n" +
                "47-52,22-53\n" +
                "41-85,77-85\n" +
                "56-81,19-78\n" +
                "78-88,62-87\n" +
                "40-96,44-95\n" +
                "56-58,28-58\n" +
                "7-70,6-69\n" +
                "8-44,8-9\n" +
                "36-84,13-35\n" +
                "67-93,77-93\n" +
                "6-87,5-5\n" +
                "59-86,9-60\n" +
                "35-48,35-53\n" +
                "81-96,82-97\n" +
                "11-49,1-10\n" +
                "14-14,15-27\n" +
                "28-68,90-92\n" +
                "46-46,47-61\n" +
                "66-66,66-98\n" +
                "1-40,2-40\n" +
                "68-85,50-88\n" +
                "25-25,26-97\n" +
                "30-56,36-57\n" +
                "40-96,39-97\n" +
                "23-99,23-24\n" +
                "88-97,61-88\n" +
                "24-26,23-67\n" +
                "92-99,93-93\n" +
                "15-66,14-16\n" +
                "13-76,12-75\n" +
                "25-44,19-25\n" +
                "6-13,9-14\n" +
                "24-24,12-24\n" +
                "10-98,99-99\n" +
                "26-98,26-72\n" +
                "2-47,2-47\n" +
                "27-87,27-51\n" +
                "40-89,41-74\n" +
                "1-92,91-92\n" +
                "8-99,7-98\n" +
                "68-85,13-68\n" +
                "71-93,70-70\n" +
                "63-84,8-89\n" +
                "17-73,85-85\n" +
                "48-80,48-48\n" +
                "73-91,94-99\n" +
                "54-72,2-42\n" +
                "15-78,15-78\n" +
                "27-62,28-40\n" +
                "10-60,12-60\n" +
                "11-92,11-99\n" +
                "7-7,8-97\n" +
                "5-54,4-5\n" +
                "9-85,84-84\n" +
                "36-83,52-82\n" +
                "1-92,1-2\n" +
                "55-70,56-71\n" +
                "35-36,36-92\n" +
                "27-60,60-79\n" +
                "1-95,1-97\n" +
                "11-89,10-10\n" +
                "24-90,42-83\n" +
                "2-96,2-2\n" +
                "25-88,97-99\n" +
                "3-96,4-97\n" +
                "22-88,22-23\n" +
                "4-4,5-77\n" +
                "5-54,55-90\n" +
                "40-44,19-43\n" +
                "4-60,3-94\n" +
                "22-93,22-93\n" +
                "9-83,24-83\n" +
                "14-91,15-84\n" +
                "1-82,1-84\n" +
                "70-70,70-90\n" +
                "29-87,87-93\n" +
                "26-46,27-46\n" +
                "10-70,8-10\n" +
                "5-96,9-94\n" +
                "18-84,18-85\n" +
                "45-81,13-45\n" +
                "35-77,35-78\n" +
                "8-62,63-67\n" +
                "14-84,17-72\n" +
                "75-93,75-76\n" +
                "33-99,30-32\n" +
                "32-37,31-43\n" +
                "29-29,30-52\n" +
                "96-96,27-64\n" +
                "68-70,65-70\n" +
                "74-87,3-73\n" +
                "1-71,1-1\n" +
                "1-38,38-58\n" +
                "61-61,34-61\n" +
                "11-97,12-64\n" +
                "1-98,3-98\n" +
                "5-58,6-59\n" +
                "22-59,58-84\n" +
                "44-68,43-63\n" +
                "18-53,52-52\n" +
                "23-38,24-39\n" +
                "79-96,30-80\n" +
                "4-97,3-99\n" +
                "1-85,1-85\n" +
                "19-19,20-55\n" +
                "28-73,29-29\n" +
                "5-69,3-89\n" +
                "30-30,31-85\n" +
                "27-81,28-92\n" +
                "37-65,36-69\n" +
                "4-93,93-93\n" +
                "42-42,43-55\n" +
                "11-97,22-98\n" +
                "4-90,5-68\n" +
                "41-65,10-65\n" +
                "20-80,21-21\n" +
                "9-85,10-53\n" +
                "13-89,13-88\n" +
                "99-99,85-96\n" +
                "98-98,11-97\n" +
                "29-30,10-29\n" +
                "76-90,73-78\n" +
                "14-76,77-93\n" +
                "60-70,59-75\n" +
                "20-53,19-52\n" +
                "65-66,1-65\n" +
                "45-52,52-53\n" +
                "13-84,18-84\n" +
                "11-42,11-24\n" +
                "14-47,5-15\n" +
                "37-37,19-38\n" +
                "34-43,42-42\n" +
                "75-87,74-86\n" +
                "23-64,22-23\n" +
                "29-92,36-93\n" +
                "7-98,7-8\n" +
                "1-2,1-2\n" +
                "3-92,3-92\n" +
                "10-63,15-62\n" +
                "4-96,3-95\n" +
                "30-85,42-86\n" +
                "67-81,5-68\n" +
                "7-94,8-94\n" +
                "10-82,2-83\n" +
                "15-69,1-49\n" +
                "84-91,55-81\n" +
                "84-95,55-84\n" +
                "10-10,9-98\n" +
                "11-30,12-30\n" +
                "31-31,31-66\n" +
                "3-66,86-99\n" +
                "7-77,6-76\n" +
                "35-60,5-93\n" +
                "73-98,34-99\n" +
                "29-32,29-32\n" +
                "4-20,3-99\n" +
                "12-35,18-36\n" +
                "10-73,72-72\n" +
                "5-89,89-90\n" +
                "12-12,1-11\n" +
                "14-40,7-14\n" +
                "11-99,6-98\n" +
                "63-63,62-93\n" +
                "19-91,18-90\n" +
                "80-88,15-80\n" +
                "36-75,22-37\n" +
                "73-75,13-74\n" +
                "43-92,42-91\n" +
                "20-91,19-93\n" +
                "18-94,17-99\n" +
                "72-91,72-92\n" +
                "80-82,26-55\n" +
                "28-88,88-88\n" +
                "12-51,12-51\n" +
                "3-5,5-99\n" +
                "17-57,9-58\n" +
                "89-94,16-88\n" +
                "2-97,1-99\n" +
                "98-99,92-98\n" +
                "56-67,6-94\n" +
                "32-81,55-81\n" +
                "50-75,31-75\n" +
                "41-42,32-41\n" +
                "16-73,4-36\n" +
                "8-98,7-7\n" +
                "24-51,43-50\n" +
                "64-87,61-65\n" +
                "30-44,30-44\n" +
                "21-26,20-82\n" +
                "14-41,9-41\n" +
                "2-72,3-92\n" +
                "42-66,43-67\n" +
                "2-99,98-98\n" +
                "22-99,21-83\n" +
                "40-72,22-71\n" +
                "8-75,14-74\n" +
                "22-92,23-95\n" +
                "32-61,7-60\n" +
                "7-19,19-54\n" +
                "46-51,62-91\n" +
                "4-98,3-4\n" +
                "60-65,51-60\n" +
                "4-79,79-87\n" +
                "19-91,19-97\n" +
                "26-55,62-93\n" +
                "5-5,5-99\n" +
                "61-67,62-67\n" +
                "26-71,5-25\n" +
                "50-61,8-60\n" +
                "4-87,2-88\n" +
                "7-7,8-70\n" +
                "23-98,23-92\n" +
                "24-25,22-24\n" +
                "2-4,3-87\n" +
                "4-58,3-5\n" +
                "6-56,55-97\n" +
                "2-15,14-60\n" +
                "51-51,1-52\n" +
                "65-68,1-48\n" +
                "21-52,52-53\n" +
                "14-95,13-14\n" +
                "38-39,40-83\n" +
                "31-48,17-30\n" +
                "2-43,3-3\n" +
                "66-85,73-84\n" +
                "28-80,21-80\n" +
                "31-98,32-98\n" +
                "50-64,23-63\n" +
                "9-80,9-80\n" +
                "38-67,4-49\n" +
                "2-94,2-94\n" +
                "19-27,28-74\n" +
                "98-98,41-89\n" +
                "9-95,21-66\n" +
                "30-53,27-54\n" +
                "8-8,9-80\n" +
                "8-9,8-97\n" +
                "33-63,32-86\n" +
                "8-9,8-77\n" +
                "44-89,44-81\n" +
                "48-74,47-73\n" +
                "34-35,35-38\n" +
                "64-85,31-64\n" +
                "20-76,4-76\n" +
                "5-5,4-93\n" +
                "11-88,98-99\n" +
                "47-48,9-48\n" +
                "54-82,28-87\n" +
                "34-59,35-52\n" +
                "8-81,80-82\n" +
                "8-95,8-93\n" +
                "6-66,7-35\n" +
                "6-82,12-76\n" +
                "64-77,19-76\n" +
                "34-63,18-33\n" +
                "1-99,2-61\n" +
                "74-86,73-73\n" +
                "46-92,34-93\n" +
                "73-73,72-73\n" +
                "47-48,47-70\n" +
                "44-94,43-43\n" +
                "22-51,26-52\n" +
                "1-2,1-66\n" +
                "18-23,15-22\n" +
                "24-24,10-24\n" +
                "12-88,89-98\n" +
                "12-64,65-65\n" +
                "16-32,16-32\n" +
                "23-77,76-90\n" +
                "75-86,85-99\n" +
                "26-67,27-98\n" +
                "66-98,67-97\n" +
                "9-19,19-19\n" +
                "20-59,21-60\n" +
                "71-97,43-71\n" +
                "21-44,22-50\n" +
                "74-77,76-77\n" +
                "19-46,20-47\n" +
                "54-95,95-95\n" +
                "95-95,79-96\n" +
                "94-95,32-95\n" +
                "14-15,15-69\n" +
                "48-48,47-90\n" +
                "18-85,18-85\n" +
                "56-78,77-79\n" +
                "22-51,5-57\n" +
                "5-45,6-46\n" +
                "11-13,12-13\n" +
                "69-90,21-69\n" +
                "4-97,3-97\n" +
                "77-77,59-77\n" +
                "16-60,17-61\n" +
                "13-69,14-70\n" +
                "20-22,5-21\n" +
                "32-91,79-92\n" +
                "33-52,33-52\n";
        day4.numberOfDoubleCleanups(mainInput);

day4.overlaps(testInput);
day4.overlaps(mainInput);
    }

    private void numberOfDoubleCleanups(String input) {
        int count = Stream.ofAll(input.lines())
                .count(line -> {
                    List<List<Integer>> ranges = List.of(line.split(","))
                            .map(Day4CampCleanup::toIntRange);

                    return
                            ranges.get(0).retainAll(ranges.get(1)).size() == ranges.get(0).size()
                                    || ranges.get(1).retainAll(ranges.get(0)).size() == ranges.get(1).size();
                });

        System.out.println(count);
    }

    private void overlaps(String input) {
        int count = Stream.ofAll(input.lines())
                .count(line -> {
                    List<List<Integer>> ranges = List.of(line.split(","))
                            .map(Day4CampCleanup::toIntRange);

                    return ranges.get(0).retainAll(ranges.get(1)).size() > 0;
                });

        System.out.println(count);
    }

    private static List<Integer> toIntRange(String range) {
        String[] r = range.split("-");
        return List.range(Integer.parseInt(r[0]), Integer.parseInt(r[1])+1);
    }
}
