import io.vavr.Tuple;
import io.vavr.Tuple2;
import io.vavr.collection.Stream;

import java.util.HashSet;
import java.util.List;
import java.util.Set;

public class Day9RopeBridge {
    public static void main(String[] args) {
        String testInput = "R 4\n" +
                "U 4\n" +
                "L 3\n" +
                "D 1\n" +
                "R 4\n" +
                "D 1\n" +
                "L 5\n" +
                "R 2";

        String testInput2 = "R 5\n" +
                "U 8\n" +
                "L 8\n" +
                "D 3\n" +
                "R 17\n" +
                "D 10\n" +
                "L 25\n" +
                "U 20";
        Day9RopeBridge day9 = new Day9RopeBridge();
        day9.runSnake(testInput2);

        String mainInput = "R 1\n" +
                "U 1\n" +
                "D 2\n" +
                "L 2\n" +
                "D 1\n" +
                "U 1\n" +
                "R 2\n" +
                "D 2\n" +
                "R 2\n" +
                "U 1\n" +
                "L 1\n" +
                "U 2\n" +
                "R 1\n" +
                "L 1\n" +
                "R 1\n" +
                "L 1\n" +
                "R 1\n" +
                "U 1\n" +
                "L 1\n" +
                "U 1\n" +
                "R 2\n" +
                "U 2\n" +
                "L 1\n" +
                "R 1\n" +
                "L 1\n" +
                "U 2\n" +
                "R 2\n" +
                "D 1\n" +
                "R 2\n" +
                "U 2\n" +
                "L 1\n" +
                "U 2\n" +
                "D 2\n" +
                "L 1\n" +
                "U 2\n" +
                "R 2\n" +
                "L 2\n" +
                "U 1\n" +
                "D 1\n" +
                "L 1\n" +
                "R 1\n" +
                "L 1\n" +
                "U 1\n" +
                "L 1\n" +
                "U 1\n" +
                "R 2\n" +
                "L 1\n" +
                "R 1\n" +
                "D 2\n" +
                "L 2\n" +
                "R 2\n" +
                "U 2\n" +
                "D 1\n" +
                "L 1\n" +
                "U 2\n" +
                "R 2\n" +
                "D 1\n" +
                "U 1\n" +
                "D 2\n" +
                "U 1\n" +
                "L 1\n" +
                "D 2\n" +
                "U 1\n" +
                "R 1\n" +
                "L 1\n" +
                "U 2\n" +
                "R 2\n" +
                "U 1\n" +
                "D 2\n" +
                "R 1\n" +
                "L 2\n" +
                "D 2\n" +
                "L 1\n" +
                "D 2\n" +
                "L 1\n" +
                "R 1\n" +
                "U 1\n" +
                "R 2\n" +
                "L 2\n" +
                "U 2\n" +
                "L 2\n" +
                "R 1\n" +
                "L 1\n" +
                "D 1\n" +
                "L 1\n" +
                "R 1\n" +
                "L 1\n" +
                "R 1\n" +
                "U 2\n" +
                "D 1\n" +
                "L 1\n" +
                "R 1\n" +
                "L 2\n" +
                "U 2\n" +
                "D 1\n" +
                "U 1\n" +
                "R 1\n" +
                "U 1\n" +
                "L 2\n" +
                "U 2\n" +
                "R 2\n" +
                "U 2\n" +
                "L 1\n" +
                "U 1\n" +
                "R 1\n" +
                "U 2\n" +
                "R 2\n" +
                "U 1\n" +
                "L 2\n" +
                "U 2\n" +
                "L 1\n" +
                "D 1\n" +
                "U 1\n" +
                "R 3\n" +
                "D 3\n" +
                "L 2\n" +
                "D 2\n" +
                "R 2\n" +
                "U 3\n" +
                "L 3\n" +
                "D 2\n" +
                "L 1\n" +
                "D 3\n" +
                "L 2\n" +
                "R 3\n" +
                "D 1\n" +
                "U 1\n" +
                "D 3\n" +
                "R 2\n" +
                "D 3\n" +
                "R 3\n" +
                "D 1\n" +
                "U 3\n" +
                "D 1\n" +
                "R 1\n" +
                "U 1\n" +
                "D 1\n" +
                "R 3\n" +
                "D 1\n" +
                "U 3\n" +
                "L 2\n" +
                "D 2\n" +
                "U 2\n" +
                "L 3\n" +
                "D 1\n" +
                "R 3\n" +
                "U 2\n" +
                "D 2\n" +
                "U 2\n" +
                "R 3\n" +
                "L 2\n" +
                "R 2\n" +
                "U 2\n" +
                "L 3\n" +
                "R 3\n" +
                "U 1\n" +
                "L 1\n" +
                "D 1\n" +
                "R 2\n" +
                "L 3\n" +
                "D 1\n" +
                "U 3\n" +
                "R 1\n" +
                "D 3\n" +
                "L 1\n" +
                "U 1\n" +
                "L 3\n" +
                "U 1\n" +
                "R 2\n" +
                "L 3\n" +
                "D 1\n" +
                "R 2\n" +
                "L 1\n" +
                "U 3\n" +
                "D 2\n" +
                "L 1\n" +
                "U 1\n" +
                "L 3\n" +
                "D 1\n" +
                "U 1\n" +
                "R 2\n" +
                "U 1\n" +
                "R 1\n" +
                "U 2\n" +
                "D 2\n" +
                "U 1\n" +
                "D 1\n" +
                "L 1\n" +
                "D 2\n" +
                "U 2\n" +
                "L 3\n" +
                "D 3\n" +
                "U 1\n" +
                "R 2\n" +
                "U 3\n" +
                "D 1\n" +
                "U 1\n" +
                "R 2\n" +
                "L 1\n" +
                "U 2\n" +
                "D 3\n" +
                "R 1\n" +
                "U 2\n" +
                "R 1\n" +
                "L 1\n" +
                "D 1\n" +
                "U 3\n" +
                "D 1\n" +
                "R 1\n" +
                "L 2\n" +
                "D 2\n" +
                "R 2\n" +
                "L 1\n" +
                "D 3\n" +
                "R 3\n" +
                "L 1\n" +
                "D 1\n" +
                "R 2\n" +
                "U 1\n" +
                "R 3\n" +
                "U 1\n" +
                "L 2\n" +
                "R 2\n" +
                "L 2\n" +
                "D 3\n" +
                "L 4\n" +
                "D 3\n" +
                "L 4\n" +
                "D 3\n" +
                "R 4\n" +
                "U 4\n" +
                "L 4\n" +
                "U 4\n" +
                "R 2\n" +
                "L 4\n" +
                "D 2\n" +
                "U 1\n" +
                "R 2\n" +
                "D 2\n" +
                "R 3\n" +
                "L 3\n" +
                "R 4\n" +
                "U 2\n" +
                "D 3\n" +
                "L 4\n" +
                "R 2\n" +
                "L 1\n" +
                "R 3\n" +
                "L 3\n" +
                "U 4\n" +
                "D 2\n" +
                "L 2\n" +
                "R 1\n" +
                "U 1\n" +
                "R 1\n" +
                "U 3\n" +
                "R 2\n" +
                "D 2\n" +
                "U 3\n" +
                "R 2\n" +
                "U 4\n" +
                "R 4\n" +
                "U 3\n" +
                "D 4\n" +
                "L 2\n" +
                "R 4\n" +
                "D 1\n" +
                "U 3\n" +
                "R 1\n" +
                "D 4\n" +
                "L 2\n" +
                "D 2\n" +
                "R 3\n" +
                "D 3\n" +
                "U 1\n" +
                "L 2\n" +
                "U 2\n" +
                "L 4\n" +
                "U 3\n" +
                "R 3\n" +
                "L 2\n" +
                "R 3\n" +
                "U 1\n" +
                "L 1\n" +
                "D 2\n" +
                "U 1\n" +
                "D 1\n" +
                "U 1\n" +
                "D 2\n" +
                "U 3\n" +
                "D 3\n" +
                "R 4\n" +
                "L 4\n" +
                "D 1\n" +
                "U 3\n" +
                "R 4\n" +
                "U 4\n" +
                "D 2\n" +
                "R 1\n" +
                "U 2\n" +
                "D 4\n" +
                "U 1\n" +
                "R 1\n" +
                "L 4\n" +
                "R 3\n" +
                "U 1\n" +
                "L 2\n" +
                "R 3\n" +
                "L 2\n" +
                "U 3\n" +
                "R 2\n" +
                "D 2\n" +
                "R 1\n" +
                "D 2\n" +
                "U 4\n" +
                "L 4\n" +
                "U 2\n" +
                "R 2\n" +
                "U 4\n" +
                "L 3\n" +
                "R 1\n" +
                "D 4\n" +
                "R 2\n" +
                "D 3\n" +
                "R 1\n" +
                "L 3\n" +
                "D 3\n" +
                "L 4\n" +
                "U 2\n" +
                "R 1\n" +
                "L 3\n" +
                "D 4\n" +
                "L 2\n" +
                "U 3\n" +
                "L 1\n" +
                "U 5\n" +
                "L 1\n" +
                "U 3\n" +
                "D 2\n" +
                "U 2\n" +
                "D 3\n" +
                "R 3\n" +
                "L 5\n" +
                "U 1\n" +
                "D 2\n" +
                "L 1\n" +
                "R 5\n" +
                "D 4\n" +
                "R 1\n" +
                "D 2\n" +
                "R 5\n" +
                "U 5\n" +
                "D 1\n" +
                "R 3\n" +
                "D 5\n" +
                "R 5\n" +
                "U 2\n" +
                "L 1\n" +
                "D 1\n" +
                "R 2\n" +
                "D 2\n" +
                "U 5\n" +
                "D 2\n" +
                "R 3\n" +
                "L 4\n" +
                "D 5\n" +
                "U 3\n" +
                "L 4\n" +
                "R 4\n" +
                "D 5\n" +
                "L 2\n" +
                "R 5\n" +
                "D 1\n" +
                "R 2\n" +
                "L 5\n" +
                "D 2\n" +
                "U 3\n" +
                "D 3\n" +
                "L 3\n" +
                "U 3\n" +
                "R 1\n" +
                "D 4\n" +
                "L 1\n" +
                "U 2\n" +
                "L 3\n" +
                "U 2\n" +
                "R 3\n" +
                "L 1\n" +
                "U 4\n" +
                "L 5\n" +
                "R 4\n" +
                "U 4\n" +
                "R 2\n" +
                "L 4\n" +
                "U 2\n" +
                "R 4\n" +
                "D 2\n" +
                "U 2\n" +
                "D 3\n" +
                "L 3\n" +
                "R 1\n" +
                "U 1\n" +
                "L 1\n" +
                "R 5\n" +
                "U 1\n" +
                "D 4\n" +
                "L 4\n" +
                "R 5\n" +
                "D 4\n" +
                "L 3\n" +
                "D 1\n" +
                "L 4\n" +
                "U 3\n" +
                "R 5\n" +
                "L 2\n" +
                "R 4\n" +
                "L 1\n" +
                "R 2\n" +
                "U 3\n" +
                "D 1\n" +
                "L 2\n" +
                "U 2\n" +
                "R 2\n" +
                "U 1\n" +
                "R 2\n" +
                "U 5\n" +
                "L 4\n" +
                "D 1\n" +
                "U 5\n" +
                "R 1\n" +
                "D 1\n" +
                "U 2\n" +
                "D 5\n" +
                "U 5\n" +
                "L 3\n" +
                "U 3\n" +
                "L 1\n" +
                "D 5\n" +
                "U 5\n" +
                "D 1\n" +
                "L 5\n" +
                "D 4\n" +
                "U 4\n" +
                "L 3\n" +
                "U 3\n" +
                "L 6\n" +
                "D 4\n" +
                "R 5\n" +
                "U 4\n" +
                "R 3\n" +
                "D 3\n" +
                "U 3\n" +
                "D 5\n" +
                "R 4\n" +
                "D 5\n" +
                "R 6\n" +
                "U 3\n" +
                "L 3\n" +
                "R 3\n" +
                "D 3\n" +
                "R 5\n" +
                "L 2\n" +
                "D 5\n" +
                "L 3\n" +
                "U 2\n" +
                "D 3\n" +
                "U 1\n" +
                "D 1\n" +
                "U 6\n" +
                "D 4\n" +
                "R 6\n" +
                "D 4\n" +
                "L 4\n" +
                "D 6\n" +
                "R 2\n" +
                "L 3\n" +
                "R 4\n" +
                "U 5\n" +
                "R 5\n" +
                "D 4\n" +
                "U 5\n" +
                "L 3\n" +
                "R 1\n" +
                "U 4\n" +
                "R 1\n" +
                "D 5\n" +
                "U 6\n" +
                "D 6\n" +
                "U 6\n" +
                "D 4\n" +
                "L 6\n" +
                "R 5\n" +
                "L 1\n" +
                "U 6\n" +
                "L 6\n" +
                "D 3\n" +
                "R 3\n" +
                "D 2\n" +
                "U 3\n" +
                "L 5\n" +
                "D 6\n" +
                "U 3\n" +
                "L 3\n" +
                "D 3\n" +
                "U 3\n" +
                "D 4\n" +
                "R 3\n" +
                "L 5\n" +
                "U 5\n" +
                "D 5\n" +
                "R 1\n" +
                "U 4\n" +
                "D 2\n" +
                "R 6\n" +
                "D 2\n" +
                "L 3\n" +
                "R 2\n" +
                "D 1\n" +
                "U 4\n" +
                "R 6\n" +
                "D 6\n" +
                "U 3\n" +
                "L 3\n" +
                "D 1\n" +
                "R 2\n" +
                "D 4\n" +
                "R 5\n" +
                "L 6\n" +
                "D 2\n" +
                "U 6\n" +
                "L 1\n" +
                "U 5\n" +
                "R 4\n" +
                "U 6\n" +
                "D 1\n" +
                "L 4\n" +
                "U 4\n" +
                "D 1\n" +
                "R 6\n" +
                "L 4\n" +
                "U 2\n" +
                "R 3\n" +
                "U 3\n" +
                "L 2\n" +
                "D 6\n" +
                "R 4\n" +
                "D 4\n" +
                "L 6\n" +
                "R 1\n" +
                "D 2\n" +
                "L 4\n" +
                "R 2\n" +
                "U 6\n" +
                "L 1\n" +
                "R 3\n" +
                "D 3\n" +
                "U 4\n" +
                "L 1\n" +
                "U 6\n" +
                "D 1\n" +
                "L 5\n" +
                "R 6\n" +
                "L 1\n" +
                "D 5\n" +
                "U 5\n" +
                "R 4\n" +
                "U 6\n" +
                "L 5\n" +
                "D 4\n" +
                "R 1\n" +
                "L 6\n" +
                "U 7\n" +
                "L 1\n" +
                "D 3\n" +
                "L 5\n" +
                "R 4\n" +
                "L 2\n" +
                "D 4\n" +
                "U 4\n" +
                "L 4\n" +
                "D 2\n" +
                "R 4\n" +
                "L 1\n" +
                "U 1\n" +
                "R 3\n" +
                "U 2\n" +
                "L 4\n" +
                "R 2\n" +
                "L 6\n" +
                "R 1\n" +
                "D 5\n" +
                "L 6\n" +
                "U 6\n" +
                "D 1\n" +
                "R 2\n" +
                "L 2\n" +
                "R 2\n" +
                "D 6\n" +
                "R 7\n" +
                "D 5\n" +
                "R 5\n" +
                "D 1\n" +
                "R 2\n" +
                "U 3\n" +
                "R 7\n" +
                "U 6\n" +
                "R 1\n" +
                "U 2\n" +
                "L 1\n" +
                "R 3\n" +
                "L 2\n" +
                "R 2\n" +
                "U 5\n" +
                "R 1\n" +
                "L 7\n" +
                "U 6\n" +
                "D 1\n" +
                "L 2\n" +
                "R 5\n" +
                "D 5\n" +
                "R 2\n" +
                "U 7\n" +
                "R 5\n" +
                "U 3\n" +
                "R 3\n" +
                "U 1\n" +
                "R 4\n" +
                "D 2\n" +
                "U 7\n" +
                "D 7\n" +
                "R 1\n" +
                "U 4\n" +
                "R 7\n" +
                "D 4\n" +
                "R 7\n" +
                "L 5\n" +
                "D 3\n" +
                "R 2\n" +
                "L 6\n" +
                "U 1\n" +
                "L 5\n" +
                "R 7\n" +
                "U 5\n" +
                "D 5\n" +
                "L 1\n" +
                "D 5\n" +
                "L 3\n" +
                "U 5\n" +
                "D 2\n" +
                "R 7\n" +
                "L 7\n" +
                "R 7\n" +
                "D 4\n" +
                "R 1\n" +
                "U 5\n" +
                "D 3\n" +
                "U 4\n" +
                "L 5\n" +
                "R 6\n" +
                "U 6\n" +
                "L 6\n" +
                "U 3\n" +
                "D 6\n" +
                "U 7\n" +
                "L 1\n" +
                "U 1\n" +
                "R 2\n" +
                "D 4\n" +
                "U 2\n" +
                "D 2\n" +
                "U 4\n" +
                "R 2\n" +
                "L 3\n" +
                "R 5\n" +
                "U 6\n" +
                "L 8\n" +
                "R 7\n" +
                "D 1\n" +
                "L 1\n" +
                "D 3\n" +
                "L 4\n" +
                "R 3\n" +
                "U 7\n" +
                "D 1\n" +
                "R 4\n" +
                "D 5\n" +
                "R 7\n" +
                "D 5\n" +
                "U 2\n" +
                "D 6\n" +
                "U 2\n" +
                "R 3\n" +
                "D 6\n" +
                "L 3\n" +
                "U 5\n" +
                "L 7\n" +
                "D 6\n" +
                "U 5\n" +
                "D 6\n" +
                "L 8\n" +
                "U 2\n" +
                "R 8\n" +
                "D 6\n" +
                "U 8\n" +
                "R 1\n" +
                "L 3\n" +
                "R 7\n" +
                "L 5\n" +
                "R 8\n" +
                "U 1\n" +
                "D 6\n" +
                "U 8\n" +
                "L 4\n" +
                "R 6\n" +
                "D 2\n" +
                "R 2\n" +
                "D 8\n" +
                "U 7\n" +
                "D 7\n" +
                "L 2\n" +
                "U 7\n" +
                "D 3\n" +
                "L 2\n" +
                "U 7\n" +
                "R 3\n" +
                "U 2\n" +
                "D 7\n" +
                "R 1\n" +
                "L 2\n" +
                "D 7\n" +
                "L 2\n" +
                "R 5\n" +
                "U 6\n" +
                "L 6\n" +
                "R 1\n" +
                "L 3\n" +
                "R 5\n" +
                "D 3\n" +
                "R 3\n" +
                "D 6\n" +
                "U 1\n" +
                "D 4\n" +
                "U 4\n" +
                "L 2\n" +
                "R 7\n" +
                "D 5\n" +
                "L 3\n" +
                "R 3\n" +
                "D 2\n" +
                "U 3\n" +
                "D 4\n" +
                "L 3\n" +
                "U 8\n" +
                "L 4\n" +
                "D 1\n" +
                "L 2\n" +
                "U 3\n" +
                "L 8\n" +
                "R 5\n" +
                "L 8\n" +
                "U 1\n" +
                "D 4\n" +
                "U 3\n" +
                "L 6\n" +
                "R 7\n" +
                "L 5\n" +
                "D 5\n" +
                "L 2\n" +
                "R 4\n" +
                "L 6\n" +
                "D 5\n" +
                "L 7\n" +
                "U 1\n" +
                "L 5\n" +
                "R 8\n" +
                "D 6\n" +
                "R 8\n" +
                "L 7\n" +
                "U 5\n" +
                "D 2\n" +
                "L 8\n" +
                "U 2\n" +
                "R 6\n" +
                "L 4\n" +
                "D 6\n" +
                "L 6\n" +
                "D 8\n" +
                "R 1\n" +
                "L 5\n" +
                "U 9\n" +
                "R 6\n" +
                "L 2\n" +
                "U 2\n" +
                "D 6\n" +
                "L 9\n" +
                "R 6\n" +
                "D 5\n" +
                "R 1\n" +
                "U 4\n" +
                "L 2\n" +
                "R 7\n" +
                "U 7\n" +
                "D 3\n" +
                "R 4\n" +
                "D 9\n" +
                "R 2\n" +
                "L 7\n" +
                "U 1\n" +
                "L 6\n" +
                "R 2\n" +
                "D 3\n" +
                "R 9\n" +
                "D 2\n" +
                "U 5\n" +
                "L 3\n" +
                "R 4\n" +
                "D 7\n" +
                "L 8\n" +
                "U 2\n" +
                "D 2\n" +
                "R 1\n" +
                "L 7\n" +
                "R 5\n" +
                "U 1\n" +
                "L 6\n" +
                "U 3\n" +
                "L 1\n" +
                "U 2\n" +
                "D 1\n" +
                "U 5\n" +
                "L 2\n" +
                "U 9\n" +
                "L 5\n" +
                "D 1\n" +
                "L 8\n" +
                "R 2\n" +
                "L 5\n" +
                "R 2\n" +
                "U 1\n" +
                "D 7\n" +
                "L 2\n" +
                "R 7\n" +
                "U 6\n" +
                "R 8\n" +
                "L 7\n" +
                "R 8\n" +
                "U 3\n" +
                "D 6\n" +
                "U 4\n" +
                "R 2\n" +
                "U 2\n" +
                "L 4\n" +
                "D 5\n" +
                "L 4\n" +
                "R 1\n" +
                "U 4\n" +
                "R 7\n" +
                "D 8\n" +
                "L 6\n" +
                "U 6\n" +
                "D 3\n" +
                "R 8\n" +
                "D 4\n" +
                "R 4\n" +
                "D 7\n" +
                "R 9\n" +
                "D 7\n" +
                "R 8\n" +
                "U 4\n" +
                "D 1\n" +
                "L 7\n" +
                "U 9\n" +
                "R 3\n" +
                "L 9\n" +
                "U 2\n" +
                "D 6\n" +
                "U 5\n" +
                "R 5\n" +
                "U 3\n" +
                "R 4\n" +
                "D 7\n" +
                "L 2\n" +
                "U 1\n" +
                "L 1\n" +
                "U 7\n" +
                "L 5\n" +
                "U 5\n" +
                "R 4\n" +
                "D 9\n" +
                "R 9\n" +
                "D 5\n" +
                "L 10\n" +
                "R 6\n" +
                "D 7\n" +
                "L 9\n" +
                "D 1\n" +
                "L 10\n" +
                "D 9\n" +
                "L 7\n" +
                "R 2\n" +
                "D 5\n" +
                "L 2\n" +
                "U 6\n" +
                "L 4\n" +
                "U 2\n" +
                "L 7\n" +
                "D 7\n" +
                "L 2\n" +
                "R 1\n" +
                "L 4\n" +
                "D 2\n" +
                "R 9\n" +
                "D 3\n" +
                "U 4\n" +
                "D 6\n" +
                "R 2\n" +
                "D 7\n" +
                "L 7\n" +
                "U 10\n" +
                "D 6\n" +
                "L 4\n" +
                "R 3\n" +
                "U 9\n" +
                "R 3\n" +
                "L 10\n" +
                "U 8\n" +
                "D 1\n" +
                "U 5\n" +
                "R 2\n" +
                "U 5\n" +
                "L 3\n" +
                "U 7\n" +
                "R 1\n" +
                "U 8\n" +
                "D 4\n" +
                "L 7\n" +
                "D 10\n" +
                "L 8\n" +
                "U 9\n" +
                "R 6\n" +
                "L 8\n" +
                "D 4\n" +
                "R 5\n" +
                "D 9\n" +
                "U 2\n" +
                "R 4\n" +
                "D 4\n" +
                "U 3\n" +
                "R 7\n" +
                "D 1\n" +
                "L 1\n" +
                "U 6\n" +
                "L 2\n" +
                "U 1\n" +
                "L 5\n" +
                "D 1\n" +
                "L 2\n" +
                "R 7\n" +
                "D 8\n" +
                "R 4\n" +
                "U 2\n" +
                "R 10\n" +
                "U 3\n" +
                "L 3\n" +
                "D 1\n" +
                "L 1\n" +
                "U 10\n" +
                "L 10\n" +
                "U 5\n" +
                "D 2\n" +
                "R 6\n" +
                "L 8\n" +
                "R 2\n" +
                "L 5\n" +
                "U 2\n" +
                "D 8\n" +
                "L 1\n" +
                "D 4\n" +
                "U 9\n" +
                "R 6\n" +
                "D 2\n" +
                "L 3\n" +
                "R 4\n" +
                "D 4\n" +
                "U 4\n" +
                "L 2\n" +
                "R 9\n" +
                "U 8\n" +
                "L 10\n" +
                "D 1\n" +
                "R 6\n" +
                "D 2\n" +
                "R 6\n" +
                "U 7\n" +
                "L 7\n" +
                "U 6\n" +
                "D 6\n" +
                "R 3\n" +
                "D 1\n" +
                "U 5\n" +
                "R 3\n" +
                "D 1\n" +
                "U 5\n" +
                "L 9\n" +
                "R 8\n" +
                "U 11\n" +
                "L 11\n" +
                "U 6\n" +
                "D 7\n" +
                "L 7\n" +
                "R 8\n" +
                "U 10\n" +
                "D 10\n" +
                "L 11\n" +
                "U 1\n" +
                "L 5\n" +
                "R 3\n" +
                "D 8\n" +
                "L 8\n" +
                "D 5\n" +
                "L 6\n" +
                "U 7\n" +
                "D 8\n" +
                "U 9\n" +
                "D 11\n" +
                "U 7\n" +
                "D 9\n" +
                "U 11\n" +
                "L 9\n" +
                "R 9\n" +
                "U 1\n" +
                "L 11\n" +
                "U 6\n" +
                "R 1\n" +
                "U 9\n" +
                "D 9\n" +
                "U 1\n" +
                "R 6\n" +
                "L 9\n" +
                "R 11\n" +
                "D 5\n" +
                "L 10\n" +
                "R 2\n" +
                "D 10\n" +
                "L 7\n" +
                "R 2\n" +
                "L 5\n" +
                "D 5\n" +
                "R 9\n" +
                "L 11\n" +
                "U 4\n" +
                "D 2\n" +
                "U 10\n" +
                "R 5\n" +
                "U 10\n" +
                "L 5\n" +
                "U 2\n" +
                "D 6\n" +
                "U 5\n" +
                "L 6\n" +
                "U 8\n" +
                "R 9\n" +
                "U 9\n" +
                "D 8\n" +
                "R 6\n" +
                "D 1\n" +
                "R 2\n" +
                "L 7\n" +
                "U 11\n" +
                "D 8\n" +
                "L 4\n" +
                "U 2\n" +
                "R 3\n" +
                "D 9\n" +
                "U 5\n" +
                "R 7\n" +
                "L 4\n" +
                "D 3\n" +
                "U 11\n" +
                "L 6\n" +
                "U 6\n" +
                "D 5\n" +
                "U 10\n" +
                "R 11\n" +
                "U 5\n" +
                "L 2\n" +
                "U 7\n" +
                "R 11\n" +
                "D 2\n" +
                "R 2\n" +
                "L 10\n" +
                "D 8\n" +
                "R 10\n" +
                "L 10\n" +
                "U 4\n" +
                "L 5\n" +
                "D 7\n" +
                "L 8\n" +
                "R 8\n" +
                "D 4\n" +
                "L 6\n" +
                "U 7\n" +
                "R 9\n" +
                "U 4\n" +
                "R 9\n" +
                "D 4\n" +
                "R 3\n" +
                "U 9\n" +
                "R 6\n" +
                "D 8\n" +
                "U 6\n" +
                "D 2\n" +
                "U 3\n" +
                "R 2\n" +
                "L 9\n" +
                "U 3\n" +
                "D 11\n" +
                "U 10\n" +
                "D 1\n" +
                "U 2\n" +
                "D 7\n" +
                "R 4\n" +
                "U 5\n" +
                "D 12\n" +
                "L 4\n" +
                "R 12\n" +
                "L 3\n" +
                "R 4\n" +
                "L 7\n" +
                "R 2\n" +
                "D 9\n" +
                "R 3\n" +
                "U 2\n" +
                "L 10\n" +
                "D 4\n" +
                "R 9\n" +
                "L 4\n" +
                "D 11\n" +
                "L 3\n" +
                "U 8\n" +
                "L 11\n" +
                "D 12\n" +
                "U 8\n" +
                "L 11\n" +
                "R 4\n" +
                "D 8\n" +
                "R 10\n" +
                "U 1\n" +
                "D 2\n" +
                "U 12\n" +
                "D 6\n" +
                "R 6\n" +
                "D 2\n" +
                "U 5\n" +
                "R 2\n" +
                "L 7\n" +
                "U 4\n" +
                "R 2\n" +
                "U 10\n" +
                "L 8\n" +
                "D 3\n" +
                "R 8\n" +
                "L 4\n" +
                "R 5\n" +
                "D 7\n" +
                "L 12\n" +
                "U 12\n" +
                "D 3\n" +
                "L 10\n" +
                "R 4\n" +
                "L 12\n" +
                "U 3\n" +
                "L 6\n" +
                "D 6\n" +
                "U 5\n" +
                "L 1\n" +
                "U 5\n" +
                "L 12\n" +
                "R 9\n" +
                "U 11\n" +
                "L 11\n" +
                "R 7\n" +
                "L 5\n" +
                "R 8\n" +
                "U 12\n" +
                "R 10\n" +
                "U 7\n" +
                "L 2\n" +
                "R 5\n" +
                "U 2\n" +
                "D 3\n" +
                "L 7\n" +
                "R 5\n" +
                "U 9\n" +
                "R 9\n" +
                "U 10\n" +
                "D 10\n" +
                "U 12\n" +
                "L 2\n" +
                "R 2\n" +
                "L 1\n" +
                "U 6\n" +
                "R 8\n" +
                "U 9\n" +
                "R 1\n" +
                "L 9\n" +
                "D 2\n" +
                "L 1\n" +
                "R 11\n" +
                "D 1\n" +
                "U 4\n" +
                "L 10\n" +
                "R 9\n" +
                "D 12\n" +
                "R 4\n" +
                "D 5\n" +
                "U 6\n" +
                "R 7\n" +
                "D 8\n" +
                "R 5\n" +
                "D 11\n" +
                "L 3\n" +
                "D 11\n" +
                "U 4\n" +
                "L 6\n" +
                "U 4\n" +
                "L 10\n" +
                "U 2\n" +
                "L 4\n" +
                "U 5\n" +
                "R 2\n" +
                "U 4\n" +
                "R 2\n" +
                "D 6\n" +
                "R 13\n" +
                "U 4\n" +
                "D 2\n" +
                "L 12\n" +
                "D 6\n" +
                "R 6\n" +
                "U 5\n" +
                "D 2\n" +
                "R 12\n" +
                "D 2\n" +
                "R 1\n" +
                "L 6\n" +
                "D 6\n" +
                "U 11\n" +
                "L 11\n" +
                "D 3\n" +
                "L 10\n" +
                "U 2\n" +
                "R 13\n" +
                "D 6\n" +
                "U 3\n" +
                "L 3\n" +
                "R 1\n" +
                "U 7\n" +
                "R 11\n" +
                "D 2\n" +
                "L 6\n" +
                "D 5\n" +
                "L 11\n" +
                "R 9\n" +
                "U 13\n" +
                "R 6\n" +
                "U 4\n" +
                "D 6\n" +
                "U 5\n" +
                "R 4\n" +
                "L 3\n" +
                "R 10\n" +
                "L 10\n" +
                "D 5\n" +
                "U 10\n" +
                "L 13\n" +
                "U 3\n" +
                "D 6\n" +
                "U 1\n" +
                "L 11\n" +
                "R 13\n" +
                "L 1\n" +
                "D 7\n" +
                "R 3\n" +
                "U 7\n" +
                "D 8\n" +
                "R 12\n" +
                "D 10\n" +
                "R 10\n" +
                "L 11\n" +
                "R 10\n" +
                "D 1\n" +
                "L 13\n" +
                "R 1\n" +
                "L 3\n" +
                "R 11\n" +
                "U 6\n" +
                "L 1\n" +
                "D 11\n" +
                "U 11\n" +
                "D 7\n" +
                "L 5\n" +
                "R 2\n" +
                "U 7\n" +
                "L 13\n" +
                "R 13\n" +
                "U 12\n" +
                "R 2\n" +
                "U 5\n" +
                "R 3\n" +
                "U 12\n" +
                "L 5\n" +
                "D 13\n" +
                "L 11\n" +
                "R 7\n" +
                "L 2\n" +
                "D 5\n" +
                "R 6\n" +
                "D 5\n" +
                "L 6\n" +
                "D 5\n" +
                "U 13\n" +
                "L 9\n" +
                "D 11\n" +
                "R 9\n" +
                "D 11\n" +
                "L 9\n" +
                "R 11\n" +
                "U 5\n" +
                "R 10\n" +
                "L 7\n" +
                "R 10\n" +
                "D 5\n" +
                "L 9\n" +
                "U 12\n" +
                "L 10\n" +
                "U 9\n" +
                "L 14\n" +
                "R 3\n" +
                "L 4\n" +
                "D 3\n" +
                "L 4\n" +
                "R 4\n" +
                "D 5\n" +
                "R 3\n" +
                "L 10\n" +
                "R 12\n" +
                "D 4\n" +
                "R 13\n" +
                "U 7\n" +
                "L 11\n" +
                "D 2\n" +
                "L 2\n" +
                "U 11\n" +
                "R 4\n" +
                "D 14\n" +
                "U 9\n" +
                "R 9\n" +
                "L 5\n" +
                "D 2\n" +
                "U 6\n" +
                "D 2\n" +
                "L 1\n" +
                "R 3\n" +
                "D 7\n" +
                "R 4\n" +
                "U 9\n" +
                "D 8\n" +
                "U 5\n" +
                "L 12\n" +
                "U 3\n" +
                "L 12\n" +
                "R 14\n" +
                "U 5\n" +
                "L 10\n" +
                "R 1\n" +
                "D 6\n" +
                "U 10\n" +
                "L 2\n" +
                "U 8\n" +
                "R 5\n" +
                "L 9\n" +
                "R 8\n" +
                "L 6\n" +
                "D 8\n" +
                "U 11\n" +
                "R 6\n" +
                "L 7\n" +
                "D 10\n" +
                "R 6\n" +
                "L 9\n" +
                "U 6\n" +
                "D 6\n" +
                "L 3\n" +
                "R 13\n" +
                "D 10\n" +
                "R 11\n" +
                "L 10\n" +
                "R 6\n" +
                "L 9\n" +
                "D 6\n" +
                "R 14\n" +
                "L 2\n" +
                "U 7\n" +
                "D 4\n" +
                "L 11\n" +
                "U 12\n" +
                "L 11\n" +
                "D 7\n" +
                "L 12\n" +
                "U 8\n" +
                "D 9\n" +
                "U 7\n" +
                "D 4\n" +
                "L 9\n" +
                "R 12\n" +
                "U 10\n" +
                "D 12\n" +
                "U 8\n" +
                "R 9\n" +
                "U 4\n" +
                "D 2\n" +
                "R 9\n" +
                "D 1\n" +
                "L 14\n" +
                "U 4\n" +
                "L 13\n" +
                "R 8\n" +
                "D 7\n" +
                "R 6\n" +
                "L 6\n" +
                "D 11\n" +
                "R 11\n" +
                "D 4\n" +
                "L 12\n" +
                "R 4\n" +
                "D 6\n" +
                "L 1\n" +
                "D 10\n" +
                "R 3\n" +
                "U 6\n" +
                "L 6\n" +
                "R 6\n" +
                "L 4\n" +
                "R 1\n" +
                "U 3\n" +
                "L 10\n" +
                "R 3\n" +
                "U 11\n" +
                "R 5\n" +
                "U 12\n" +
                "D 9\n" +
                "U 12\n" +
                "L 5\n" +
                "R 5\n" +
                "L 3\n" +
                "D 11\n" +
                "U 1\n" +
                "R 7\n" +
                "U 4\n" +
                "D 11\n" +
                "R 14\n" +
                "L 1\n" +
                "U 6\n" +
                "D 9\n" +
                "U 4\n" +
                "R 8\n" +
                "D 8\n" +
                "U 13\n" +
                "D 1\n" +
                "U 5\n" +
                "R 9\n" +
                "U 3\n" +
                "L 2\n" +
                "R 11\n" +
                "U 8\n" +
                "D 14\n" +
                "U 4\n" +
                "R 14\n" +
                "U 3\n" +
                "D 11\n" +
                "U 11\n" +
                "R 8\n" +
                "L 4\n" +
                "R 11\n" +
                "L 13\n" +
                "R 13\n" +
                "D 9\n" +
                "U 10\n" +
                "D 12\n" +
                "U 15\n" +
                "L 3\n" +
                "R 9\n" +
                "L 6\n" +
                "R 10\n" +
                "U 13\n" +
                "L 6\n" +
                "D 2\n" +
                "L 10\n" +
                "D 8\n" +
                "U 4\n" +
                "R 9\n" +
                "D 12\n" +
                "L 5\n" +
                "R 13\n" +
                "U 8\n" +
                "D 4\n" +
                "R 10\n" +
                "D 2\n" +
                "U 15\n" +
                "L 13\n" +
                "U 9\n" +
                "L 1\n" +
                "R 3\n" +
                "U 13\n" +
                "R 3\n" +
                "D 7\n" +
                "L 6\n" +
                "D 15\n" +
                "R 12\n" +
                "U 7\n" +
                "D 10\n" +
                "L 5\n" +
                "U 14\n" +
                "L 1\n" +
                "U 3\n" +
                "D 2\n" +
                "R 14\n" +
                "U 9\n" +
                "R 11\n" +
                "U 15\n" +
                "L 9\n" +
                "U 8\n" +
                "L 1\n" +
                "D 13\n" +
                "R 1\n" +
                "U 12\n" +
                "L 11\n" +
                "U 12\n" +
                "R 9\n" +
                "U 10\n" +
                "L 9\n" +
                "R 6\n" +
                "L 6\n" +
                "U 12\n" +
                "R 14\n" +
                "D 10\n" +
                "L 12\n" +
                "R 13\n" +
                "D 8\n" +
                "L 12\n" +
                "D 12\n" +
                "U 3\n" +
                "L 11\n" +
                "R 6\n" +
                "U 15\n" +
                "D 7\n" +
                "R 10\n" +
                "L 1\n" +
                "U 12\n" +
                "L 15\n" +
                "U 12\n" +
                "L 5\n" +
                "D 8\n" +
                "R 8\n" +
                "L 4\n" +
                "D 13\n" +
                "R 3\n" +
                "D 7\n" +
                "R 13\n" +
                "L 9\n" +
                "R 7\n" +
                "U 7\n" +
                "L 16\n" +
                "D 4\n" +
                "U 3\n" +
                "D 1\n" +
                "U 7\n" +
                "L 5\n" +
                "R 1\n" +
                "D 8\n" +
                "R 2\n" +
                "L 8\n" +
                "R 12\n" +
                "D 12\n" +
                "U 14\n" +
                "R 9\n" +
                "D 6\n" +
                "R 4\n" +
                "U 9\n" +
                "R 10\n" +
                "L 10\n" +
                "D 3\n" +
                "L 13\n" +
                "U 1\n" +
                "D 7\n" +
                "U 8\n" +
                "R 14\n" +
                "L 8\n" +
                "R 14\n" +
                "L 5\n" +
                "U 16\n" +
                "D 8\n" +
                "R 6\n" +
                "U 6\n" +
                "R 14\n" +
                "L 16\n" +
                "R 14\n" +
                "D 5\n" +
                "R 14\n" +
                "D 10\n" +
                "U 16\n" +
                "R 1\n" +
                "D 10\n" +
                "U 12\n" +
                "D 12\n" +
                "R 14\n" +
                "D 16\n" +
                "U 2\n" +
                "L 3\n" +
                "U 2\n" +
                "R 9\n" +
                "U 15\n" +
                "R 7\n" +
                "L 16\n" +
                "U 2\n" +
                "R 1\n" +
                "D 11\n" +
                "U 11\n" +
                "L 15\n" +
                "D 8\n" +
                "L 12\n" +
                "R 3\n" +
                "U 1\n" +
                "R 10\n" +
                "D 9\n" +
                "L 15\n" +
                "U 6\n" +
                "D 13\n" +
                "L 16\n" +
                "R 6\n" +
                "D 7\n" +
                "L 8\n" +
                "D 3\n" +
                "R 13\n" +
                "L 2\n" +
                "D 6\n" +
                "L 13\n" +
                "D 16\n" +
                "U 6\n" +
                "D 11\n" +
                "U 15\n" +
                "D 10\n" +
                "U 15\n" +
                "L 11\n" +
                "R 13\n" +
                "L 9\n" +
                "U 2\n" +
                "D 15\n" +
                "U 1\n" +
                "L 8\n" +
                "R 3\n" +
                "U 15\n" +
                "D 2\n" +
                "R 4\n" +
                "L 10\n" +
                "U 15\n" +
                "R 17\n" +
                "D 13\n" +
                "L 15\n" +
                "U 8\n" +
                "L 12\n" +
                "U 13\n" +
                "L 15\n" +
                "R 10\n" +
                "D 11\n" +
                "L 14\n" +
                "U 16\n" +
                "R 4\n" +
                "D 1\n" +
                "R 4\n" +
                "D 17\n" +
                "U 8\n" +
                "D 17\n" +
                "R 9\n" +
                "U 17\n" +
                "D 9\n" +
                "R 13\n" +
                "D 15\n" +
                "R 4\n" +
                "D 17\n" +
                "R 3\n" +
                "D 2\n" +
                "U 15\n" +
                "L 8\n" +
                "D 17\n" +
                "U 1\n" +
                "L 4\n" +
                "U 5\n" +
                "D 17\n" +
                "U 3\n" +
                "R 10\n" +
                "D 10\n" +
                "R 9\n" +
                "L 17\n" +
                "R 4\n" +
                "D 6\n" +
                "U 1\n" +
                "D 12\n" +
                "U 11\n" +
                "L 13\n" +
                "R 3\n" +
                "U 5\n" +
                "R 5\n" +
                "D 7\n" +
                "R 6\n" +
                "U 8\n" +
                "D 5\n" +
                "R 8\n" +
                "L 10\n" +
                "R 4\n" +
                "U 17\n" +
                "R 7\n" +
                "D 16\n" +
                "U 17\n" +
                "L 11\n" +
                "U 13\n" +
                "R 6\n" +
                "D 8\n" +
                "R 15\n" +
                "L 10\n" +
                "R 9\n" +
                "L 6\n" +
                "R 13\n" +
                "D 17\n" +
                "U 7\n" +
                "R 11\n" +
                "D 9\n" +
                "R 13\n" +
                "L 15\n" +
                "R 5\n" +
                "D 3\n" +
                "L 4\n" +
                "U 14\n" +
                "L 17\n" +
                "U 17\n" +
                "D 1\n" +
                "U 3\n" +
                "L 9\n" +
                "D 11\n" +
                "U 14\n" +
                "L 2\n" +
                "D 14\n" +
                "U 9\n" +
                "R 2\n" +
                "D 15\n" +
                "R 16\n" +
                "D 17\n" +
                "L 16\n" +
                "U 8\n" +
                "D 1\n" +
                "R 2\n" +
                "L 6\n" +
                "U 14\n" +
                "R 7\n" +
                "L 15\n" +
                "D 14\n" +
                "L 3\n" +
                "R 5\n" +
                "U 5\n" +
                "R 15\n" +
                "D 15\n" +
                "U 7\n" +
                "D 11\n" +
                "U 13\n" +
                "R 16\n" +
                "L 17\n" +
                "U 11\n" +
                "R 13\n" +
                "U 10\n" +
                "L 7\n" +
                "U 8\n" +
                "L 3\n" +
                "D 3\n" +
                "L 1\n" +
                "D 2\n" +
                "L 2\n" +
                "D 4\n" +
                "L 15\n" +
                "R 14\n" +
                "U 13\n" +
                "R 15\n" +
                "U 15\n" +
                "L 2\n" +
                "R 10\n" +
                "U 4\n" +
                "D 11\n" +
                "U 12\n" +
                "L 1\n" +
                "R 7\n" +
                "L 4\n" +
                "R 12\n" +
                "D 1\n" +
                "L 10\n" +
                "R 8\n" +
                "L 4\n" +
                "R 13\n" +
                "U 6\n" +
                "R 10\n" +
                "D 17\n" +
                "R 14\n" +
                "D 4\n" +
                "R 11\n" +
                "D 13\n" +
                "L 16\n" +
                "U 8\n" +
                "D 1\n" +
                "R 16\n" +
                "U 11\n" +
                "D 15\n" +
                "U 1\n" +
                "D 14\n" +
                "L 9\n" +
                "D 5\n" +
                "R 1\n" +
                "U 2\n" +
                "L 9\n" +
                "D 15\n" +
                "R 18\n" +
                "D 6\n" +
                "R 11\n" +
                "U 7\n" +
                "R 5\n" +
                "U 1\n" +
                "L 13\n" +
                "D 7\n" +
                "U 15\n" +
                "D 9\n" +
                "R 11\n" +
                "D 18\n" +
                "U 11\n" +
                "D 13\n" +
                "L 7\n" +
                "R 18\n" +
                "U 13\n" +
                "L 3\n" +
                "U 18\n" +
                "R 15\n" +
                "U 9\n" +
                "D 6\n" +
                "U 7\n" +
                "R 3\n" +
                "L 6\n" +
                "D 1\n" +
                "U 5\n" +
                "L 16\n" +
                "R 7\n" +
                "L 14\n" +
                "D 6\n" +
                "L 4\n" +
                "R 16\n" +
                "U 3\n" +
                "L 6\n" +
                "U 8\n" +
                "R 2\n" +
                "U 13\n" +
                "R 18\n" +
                "L 10\n" +
                "D 15\n" +
                "U 3\n" +
                "R 12\n" +
                "U 13\n" +
                "L 14\n" +
                "U 15\n" +
                "R 11\n" +
                "L 17\n" +
                "U 2\n" +
                "R 18\n" +
                "L 16\n" +
                "R 6\n" +
                "D 17\n" +
                "L 11\n" +
                "R 16\n" +
                "D 4\n" +
                "U 6\n" +
                "R 18\n" +
                "D 15\n" +
                "U 18\n" +
                "R 5\n" +
                "D 8\n" +
                "L 10\n" +
                "D 7\n" +
                "L 19\n" +
                "R 19\n" +
                "L 10\n" +
                "D 1\n" +
                "R 2\n" +
                "U 5\n" +
                "D 6\n" +
                "U 2\n" +
                "L 11\n" +
                "R 14\n" +
                "D 13\n" +
                "L 15\n" +
                "U 11\n" +
                "R 7\n" +
                "L 5\n" +
                "U 15\n" +
                "L 4\n" +
                "R 3\n" +
                "L 13\n" +
                "U 17\n" +
                "L 3\n" +
                "U 15\n" +
                "R 11\n" +
                "L 17\n" +
                "U 8\n" +
                "R 8\n" +
                "D 10\n" +
                "L 9\n" +
                "D 17\n" +
                "L 14\n" +
                "R 2\n" +
                "L 19\n" +
                "R 3\n" +
                "D 3\n" +
                "U 18\n" +
                "D 15\n" +
                "L 3\n" +
                "R 18\n" +
                "U 5\n" +
                "D 17\n" +
                "L 15\n" +
                "R 7\n" +
                "D 10\n" +
                "U 11\n" +
                "R 8\n" +
                "U 14\n" +
                "D 16\n" +
                "R 10\n" +
                "U 14\n" +
                "R 11\n" +
                "L 7\n" +
                "R 1\n" +
                "U 16\n" +
                "L 6\n" +
                "D 13\n" +
                "L 9\n" +
                "U 7\n" +
                "R 19\n" +
                "L 1\n" +
                "D 11\n" +
                "L 18\n" +
                "D 19\n" +
                "U 15\n" +
                "R 18\n" +
                "U 8\n" +
                "R 4\n" +
                "D 18\n" +
                "R 12\n" +
                "D 18\n" +
                "R 8\n" +
                "U 2\n" +
                "L 2\n" +
                "U 2\n" +
                "L 12\n" +
                "U 18\n" +
                "R 12\n" +
                "L 17\n" +
                "R 2\n" +
                "U 12\n" +
                "D 19\n" +
                "U 12\n" +
                "L 8\n" +
                "U 2\n" +
                "L 12\n" +
                "U 19\n" +
                "R 11\n" +
                "D 9\n" +
                "R 10\n" +
                "U 17\n" +
                "L 19\n" +
                "D 15\n" +
                "L 3\n" +
                "R 13\n" +
                "U 2\n" +
                "L 13\n" +
                "R 6\n" +
                "D 4\n" +
                "U 18\n" +
                "R 11\n" +
                "U 7\n" +
                "D 2\n" +
                "R 4\n" +
                "L 13\n" +
                "U 11\n" +
                "D 10\n" +
                "U 17\n" +
                "D 3\n" +
                "U 10\n";
        day9.runSnake(mainInput);
    }

    private void runSnake(String input) {
        Stream<String> moves = Stream.ofAll(input.lines())
                .flatMap(line -> Stream.fill(
                        Integer.parseInt(line.substring(2)),
                        line.substring(0, 1)
                ));

        Set<Tuple2<Integer, Integer>> visited = new HashSet<>();

        List<Tuple2<Integer, Integer>> snake = Stream.range(0, 10).map((x) -> Tuple.of(0, 0)).toJavaList();

        visited.add(snake.get(9));
        System.out.println(" ==== START ==== ");
        printGrid(snake, visited);

        for (String move : moves) {
            System.out.println(" ==== " + move + " ====");

            for (int i = 0; i < snake.size(); i++) {
                Tuple2<Integer, Integer> part = snake.get(i);
                if (i == 0) {
                    switch (move) {
                        case "U" -> snake.set(0, part.map1(x -> x + 1));
                        case "D" -> snake.set(0, part.map1(x -> x - 1));
                        case "L" -> snake.set(0, part.map2(x -> x - 1));
                        case "R" -> snake.set(0, part.map2(x -> x + 1));
                    }
                } else {


                    Tuple2<Integer, Integer> hPosition = snake.get(i - 1);
                    Tuple2<Integer, Integer> tPosition = part;
                    Integer heightDiff = hPosition._1 - tPosition._1;
                    Integer widthDiff = hPosition._2 - tPosition._2;


                    if (Math.abs(heightDiff) == 2 || Math.abs(widthDiff) == 2) {
                        int newHeight = tPosition._1 + switch (Math.abs(heightDiff)) {
                            case 2 -> heightDiff / 2;
                            default -> heightDiff;
                        };

                        int newWidth = tPosition._2 + switch (Math.abs(widthDiff)) {
                            case 2 -> widthDiff / 2;
                            default -> widthDiff;
                        };

                        snake.set(i, Tuple.of(newHeight, newWidth));
                    }
                }

            }
            visited.add(snake.get(9));
            printGrid(snake, visited);


        }

        System.out.println();

        System.out.println(visited.size());
    }

    private static void printGrid(List<Tuple2<Integer, Integer>> snake, Set<Tuple2<Integer, Integer>> visited) {
        System.out.println();
        int gridSize = 6;
        for (int i = gridSize - 1; i >= 0; i--) {
            for (int j = 0; j < gridSize; j++) {
                Tuple2<Integer, Integer> gridCoords = Tuple.of(i, j);
                int snakeIndex = snake.indexOf(gridCoords);
                if (snakeIndex == 0) {
                    System.out.print("H");
                } else if (snakeIndex != -1) {
                    System.out.print(snakeIndex);
                } else if (visited.contains(gridCoords)) {
                    System.out.print("#");
                } else {
                    System.out.print(".");
                }
            }
            System.out.println();
        }
        System.out.println();
    }
}
